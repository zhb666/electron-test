webpackJsonp([6],{GQ60:function(t,e){},Yxd1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("CtzY"),i=a.n(s),r={name:"charge",data:function(){return{account:"",password:"",Setpassword:"",username:"",Newaccount:"",Newpassword:"",NewSetpassword:"",Newusername:"",tableData:[],userIdMask:"",name:"",NewdialogFormVisible:!1,dialogFormVisible:!1,limit:"",Toexamine:!1,totalRecords:0,page:1,logins:!1}},mounted:function(){this.sendCharge()},methods:{handleCurrentChange:function(t){var e=this;this.logins=!0;var a=this.ApiUrl+"/user/getuserlistbypage";this.$http({method:"post",url:a,data:i.a.stringify({name:this.name,pageNum:t,pageSize:10})}).then(function(t){0==t.data.code?(e.logins=!1,e.tableData=t.data.data.data,e.totalRecords=t.data.data.totalCount):("403"==t.data.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(t){console.log(t)})},sendCharge:function(t){var e=this;t&&(this.page=1),this.logins=!0;var a=this.ApiUrl+"/user/getuserlistbypage";this.$http({method:"post",url:a,data:i.a.stringify({name:this.name,pageNum:this.page,pageSize:10})}).then(function(t){0==t.data.code?(e.logins=!1,e.tableData=t.data.data.data,e.totalRecords=t.data.data.totalCount):("403"==t.data.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(t){console.log(t)})},getUserId:function(t,e){this.dialogFormVisible=!0,this.userIdMask=e.id,this.account=e.account,this.username=e.name},sendAgent:function(){var t=this;if(""==this.account)return this.$message.error("错了哦，请输入账号"),!1;if(""==this.username)return this.$message.error("错了哦，请输入名称"),!1;if(this.Setpassword!=this.password)return this.$message.error("错了哦，两次输入的密码不同"),!1;var e=this.ApiUrl+"/user/updateuser";this.$http({method:"post",url:e,data:i.a.stringify({id:this.userIdMask,name:this.username,password:this.password,account:this.account})}).then(function(e){0==e.data.code?(t.$notify({title:"修改成功",message:"这是一条成功的提示消息",type:"success"}),t.showmARKs(),t.sendCharge()):("403"==e.data.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(t){console.log(t)})},showmARKs:function(){this.dialogFormVisible=!1,this.account="",this.username="",this.Setpassword="",this.password=""},NewshowmARKs:function(){this.NewdialogFormVisible=!1,this.Newaccount="",this.Newusername="",this.NewSetpassword="",this.Newpassword=""},newInfoFun:function(){this.NewdialogFormVisible=!0},newXinjian:function(){var t=this;if(""==this.Newaccount)return this.$message.error("错了哦，请输入账号"),!1;if(""==this.Newusername)return this.$message.error("错了哦，请输入名称"),!1;if(""==this.Newpassword)return this.$message.error("错了哦，请输入密码"),!1;if(""==this.NewSetpassword)return this.$message.error("错了哦，请输入验证密码"),!1;if(this.NewSetpassword!=this.Newpassword)return this.$message.error("错了哦，两次输入的密码不同"),!1;var e=this.ApiUrl+"/user/adduser";this.$http({method:"post",url:e,data:i.a.stringify({name:this.Newusername,password:this.Newpassword,account:this.Newaccount})}).then(function(e){0==e.data.code?(t.$notify({title:"新建成功",message:"这是一条成功的提示消息",type:"success"}),t.NewshowmARKs(),t.sendCharge()):(console.log(1111),"403"==e.data.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(t){console.log(t)})},deleteFun:function(t,e){var a=this;this.$confirm("确定删除？","提示",{confirmButtonText:"确认通过",cancelButtonText:"取消",type:"warning"}).then(function(){var t=a.ApiUrl+"/user/deluser";a.$http({method:"post",url:t,data:i.a.stringify({id:e.id})}).then(function(t){0==t.data.code?(a.$notify({title:"删除成功",message:"这是一条成功的提示消息",type:"success"}),a.sendCharge()):a.$message.error(t.data.msg)}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"修改信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticStyle:{margin:"20px auto"}}),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账户 : "}},[a("el-input",{attrs:{disabled:!0,placeholder:"账户"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"密码 : "}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"验证密码 : "}},[a("el-input",{attrs:{placeholder:"验证密码"},model:{value:t.Setpassword,callback:function(e){t.Setpassword=e},expression:"Setpassword"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"管理员名字 : "}},[a("el-input",{attrs:{placeholder:"管理员名字"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:t.showmARKs}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendAgent()}}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"新建科目",visible:t.NewdialogFormVisible},on:{"update:visible":function(e){t.NewdialogFormVisible=e}}},[a("div",{staticStyle:{margin:"20px auto"}}),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账户 : "}},[a("el-input",{attrs:{placeholder:"账户"},model:{value:t.Newaccount,callback:function(e){t.Newaccount=e},expression:"Newaccount"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"密码 : "}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:t.Newpassword,callback:function(e){t.Newpassword=e},expression:"Newpassword"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"验证密码 : "}},[a("el-input",{attrs:{placeholder:"验证密码"},model:{value:t.NewSetpassword,callback:function(e){t.NewSetpassword=e},expression:"NewSetpassword"}})],1)],1),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"管理员名字 : "}},[a("el-input",{attrs:{placeholder:"管理员名字"},model:{value:t.Newusername,callback:function(e){t.Newusername=e},expression:"Newusername"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:function(e){t.NewdialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.newXinjian()}}},[t._v("确定")])],1)],1),t._v(" "),a("div",{staticClass:"animated fadeInDown"},[a("el-row",{staticClass:"breadcrumb"},[a("el-col",{attrs:{span:4}},[a("h3",[t._v("管理员管理")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("系统管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("管理员管理")])],1)],1)],1),t._v(" "),a("div",{staticClass:"addPadding"},[a("div",{staticClass:"user_header"},[a("el-input",{attrs:{placeholder:"管理名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"2%"},attrs:{type:"primary"},on:{click:t.newInfoFun}},[t._v("新建")]),t._v(" "),a("el-button",{attrs:{type:"primary",title:"搜索",icon:"el-icon-search",loading:t.logins},on:{click:function(e){return t.sendCharge(1)}}})],1),t._v(" "),a("div",{staticClass:"user_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.logins,expression:"logins"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(33, 33, 33, 0.8)"}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"管理员账户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"管理姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_login_time",label:"上次登录时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"修改",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.getUserId(e.$index,e.row)}}},[t._v("修改\n                ")])],1),t._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteFun(e.$index,e.row)}}},[t._v("删除\n                ")])],1)]}}])})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.totalRecords>10,expression:"totalRecords>10"}],staticClass:"pageBox"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":10,layout:"prev, pager, next, jumper",total:t.totalRecords},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)])],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(r,o,!1,function(t){a("GQ60")},"data-v-6bc7a341",null);e.default=n.exports}});