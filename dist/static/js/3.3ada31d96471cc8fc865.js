webpackJsonp([3],{"og/3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("CtzY"),i=a.n(s),o={name:"typeAdmin",data:function(){return{options:[{value:"",label:"全部"},{value:"0",label:"未激活"},{value:"1",label:"已激活"}],getcustomerlist:[],userName:"",NewuserName:"",showNameBox:!1,showNameBoxTWO:!1,offShowName:!1,NewoffShowName:!1,tableData:[],ChangeCheckStatus:"",NewChangeCheckStatus:"",userIdMask:"",name:"",checkStatus:"",NewdialogFormVisible:!1,dialogFormVisible:!1,limit:"",Toexamine:!1,totalRecords:0,page:1,logins:!1,open_off:!1}},mounted:function(){this.sendCharge()},methods:{handleCurrentChange:function(t){var e=this;this.logins=!0;var a=this.ApiUrl+"/custometype/getcustomertypelistbypage";this.$http({method:"post",url:a,data:i.a.stringify({pageNum:t,pageSize:10})}).then(function(t){0==t.data.code?(e.logins=!1,e.tableData=t.data.data.data,e.totalRecords=t.data.data.totalCount):("403"==t.data.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(t){console.log(t)})},sendCharge:function(t){var e=this;t&&(this.page=1),this.logins=!0;var a=this.ApiUrl+"/custometype/getcustomertypelistbypage";this.$http({method:"post",url:a,data:i.a.stringify({pageNum:this.page,pageSize:10})}).then(function(t){0==t.data.code?(e.logins=!1,e.tableData=t.data.data.data,e.totalRecords=t.data.data.totalCount):("403"==t.data.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(t){console.log(t)})},getUserId:function(t,e){var a=this;this.dialogFormVisible=!0,this.userIdMask=e.id,this.actiCodeMask=e.activation_code;var s=this.ApiUrl+"/custometype/getallcustomtype";this.$http({method:"post",url:s}).then(function(t){0==t.data.code?a.getcustomerlist=t.data.data:("403"==t.data.code&&a.Signout(),a.$message.error(t.data.msg))}).catch(function(t){console.log(t)})},sendAgent:function(){var t=this;if(""==this.ChangeCheckStatus)return this.$message.error("错了哦，请选择类型"),!1;var e=this.ApiUrl+"/custometype/updatecustomertype";this.$http({method:"post",url:e,data:i.a.stringify({id:this.userIdMask,name:this.ChangeCheckStatus})}).then(function(e){0==e.data.code?(t.$notify({title:"修改成功",message:"这是一条成功的提示消息",type:"success"}),t.showmARKs(),t.sendCharge()):("403"==e.data.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(t){console.log(t)})},showmARKs:function(){this.dialogFormVisible=!1,this.userName="",this.showNameBox=!1,this.showNameBoxTWO=!1},NewshowmARKs:function(){this.NewdialogFormVisible=!1,this.NewuserName="",this.NewChangeCheckStatus="",this.showNameBox=!1,this.showNameBoxTWO=!1},newInfoFun:function(){this.NewdialogFormVisible=!0},newXinjian:function(){var t=this;if(""==this.NewChangeCheckStatus)return this.$message.error("错了哦，请输入类型"),!1;var e=this.ApiUrl+"/custometype/addcustomertype";this.$http({method:"post",url:e,data:i.a.stringify({name:this.NewChangeCheckStatus})}).then(function(e){0==e.data.code?(t.$notify({title:"新建成功",message:"这是一条成功的提示消息",type:"success"}),t.NewshowmARKs(),t.sendCharge()):("403"==e.data.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(t){console.log(t)})},deleteFun:function(t,e){var a=this;this.$confirm("确定删除？","提示",{confirmButtonText:"确认通过",cancelButtonText:"取消",type:"warning"}).then(function(){var t=a.ApiUrl+"/custometype/delcustomertype";a.$http({method:"post",url:t,data:i.a.stringify({id:e.id})}).then(function(t){0==t.data.code?(a.$notify({title:"删除成功",message:"这是一条成功的提示消息",type:"success"}),a.sendCharge()):a.$message.error(t.data.msg)}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消审核"})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"修改信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticStyle:{margin:"20px auto"}}),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"类型 : "}},[a("el-input",{attrs:{placeholder:"输入类型"},model:{value:t.ChangeCheckStatus,callback:function(e){t.ChangeCheckStatus=e},expression:"ChangeCheckStatus"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:t.showmARKs}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendAgent()}}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"新建激活用户",visible:t.NewdialogFormVisible},on:{"update:visible":function(e){t.NewdialogFormVisible=e}}},[a("div",{staticStyle:{margin:"20px auto"}}),t._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"类型 : "}},[a("el-input",{attrs:{placeholder:"输入类型"},model:{value:t.NewChangeCheckStatus,callback:function(e){t.NewChangeCheckStatus=e},expression:"NewChangeCheckStatus"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:function(e){t.NewdialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.newXinjian()}}},[t._v("确定")])],1)],1),t._v(" "),a("div",{staticClass:"animated fadeInDown"},[a("el-row",{staticClass:"breadcrumb"},[a("el-col",{attrs:{span:4}},[a("h3",[t._v("类型管理")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("客户中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("类型管理")])],1)],1)],1),t._v(" "),a("div",{staticClass:"addPadding"},[a("div",{staticClass:"user_header"},[a("el-button",{staticStyle:{float:"right","margin-right":"2%"},attrs:{type:"primary"},on:{click:t.newInfoFun}},[t._v("新建")])],1),t._v(" "),a("div",{staticClass:"user_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.logins,expression:"logins"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(33, 33, 33, 0.8)"}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"custom_num",label:"客户数量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"修改",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.getUserId(e.$index,e.row)}}},[t._v("修改\n                ")])],1),t._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteFun(e.$index,e.row)}}},[t._v("删除\n                ")])],1)]}}])})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.totalRecords>10,expression:"totalRecords>10"}],staticClass:"pageBox"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":10,layout:"prev, pager, next, jumper",total:t.totalRecords},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)])],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(o,n,!1,function(t){a("uL+Q")},"data-v-c0ac8902",null);e.default=l.exports},"uL+Q":function(t,e){}});